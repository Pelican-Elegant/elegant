Title: How Elegant displays Table of Contents
Tags: reST, markdown, navigation, web-design, contents
Category: Appearance & Style
Date: 2014-03-18 11:03
Slug: how-elegant-displays-table-of-contents
Disqus_identifier: lm95rjd-how-elegant-displays-table-of-contents
Subtitle:
Summary: Elegant shows Table of Contents, if available, non intrusively to give a clean reading experience to the visitor
Keywords:

[TOC]

The idea behind Elegant's design is to make reading a clean and distraction
free experience. Table of contents is important but it is not part of the
article content. Therefore, Elegant pushes out table of content to the left of
the article's main content. Its font size is relatively smaller. This way,
table of content stays visible for navigation but reader's attention to the
article stays unaffected.

To utilise this feature, you need to use
[extract_toc](https://github.com/getpelican/pelican-plugins) plugin. Elegant
encloses the table of content in `<nav>` tag for semantics.

You also need to make sure your markup format generates a table of contents of
your article.

# Markdown Format

For Markdown, make sure you have enabled `toc` extension in Pelican
configuration.

    :::python
    MD_EXTENSIONS = ['toc']

Next, add `[TOC]` in your article's markup. Here is a `sample.md` file.

    :::markdown
    Title: My sample title
    Date: 2014-12-03
    Category: Examples

    [TOC]

    This is my first heading
    ========================

    This is the content of my sample blog post.

    This my second heading
    ======================

    I will end my example here.

That's it. Your article's table of contents will appear on the left side of the
actual content.

## Enable Permalinks

You can also take advantage of `permalink` option in `toc` extension.

    :::python
    MD_EXTENSIONS = ['toc(permalink=true)']

This will generate
[permalinks](https://github.com/waylan/Python-Markdown/pull/252) for every
heading. Elegant keeps them hidden until user hovers over the heading.

![Permalinks example using Markdown]({static}/images/elegant-theme-toc-permalinks.png)

# reStructuredText Format

reStructuredText format has
[`contents`](http://docutils.sourceforge.net/docs/ref/rst/directives.html#table-of-contents)
directive that generates table of contents of the post. Here is a `sample.rst`
file.

    :::rest
    My sample title
    ###############

    :date: 2014-12-03
    :category: Examples

    .. contents::

    This is my first heading
    ========================

    This is the content of my sample blog post.

    This my second heading
    ======================

    I will end my example here.

## Hide Default Title Text

Unlike Markdown, reStructuredText generates a default title for the table of
contents. From [official
documentation](http://docutils.sourceforge.net/docs/ref/rst/directives.html#table-of-contents),

> Language-dependent boilerplate text will be used for the title. The English
> default title text is "Contents".

You end up having two titles for your table of contents, one generated by
reStructuredText and the other by Elegant.

Unfortunately, there is [no straightforward
way](https://github.com/Pelican-Elegant/elegant/issues/54) to disable default
title generation in reStructuredText. You need to add following rule in your
`custom.css` file to hide the duplicate title.

    :::css
    div#contents p.topic-title.first {
        display: none;
    }

See [this article](how-to-use-custom-css "How to use custom.css") to understand how you can use
`custom.css`.
